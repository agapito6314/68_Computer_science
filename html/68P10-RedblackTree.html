<!DOCTYPE html><html>
<head>
<title>red-black tree</title>
<!--Generated on Sat Feb 10 12:38:28 2018 by LaTeXML (version 0.8.2) http://dlmf.nist.gov/LaTeXML/.-->

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="LaTeXML.css" type="text/css">
<link rel="stylesheet" href="ltx-article.css" type="text/css">
<link rel="stylesheet" href="https://cdn.rawgit.com/holtzermann17/3f71ceeb3b055e1ddc3b6c11fb1f074c/raw/2bb23e3b173ff96840797fc0c3bcb8c54085df8e/LaTeXML.css" type="text/css">
<link rel="stylesheet" href="https://cdn.rawgit.com/holtzermann17/4bda0365b30858ac2fb83623185fe3ec/raw/cedd84ed3e3ad597c5d293f443ecfe4803741c6b/ltx-article.css" type="text/css">
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">red-black tree</h1>

<div id="p1" class="ltx_para">
<br class="ltx_break">
</div>
<div id="p2" class="ltx_para">
<p class="ltx_p">A <span class="ltx_text ltx_font_italic"><a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">red-black tree</a><sup style="display: none;"><a class="nnexus_concept" href="http://mathworld.wolfram.com/Red-BlackTree.html"><img src="http://mathworld.wolfram.com/favicon_mathworld.png" alt="Mathworld"></img></a><a class="nnexus_concept" href="http://planetmath.org/redblacktree"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup></span> is a type of self-balancing binary search tree, a <a class="nnexus_concept" href="http://mathworld.wolfram.com/DataStructure.html">data structure</a> used in computer science, typically used to implement <a class="nnexus_concept" href="http://mathworld.wolfram.com/AssociativeArray.html">associative arrays</a>. The original <a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">structure</a><sup style="display: none;"><a class="nnexus_concept" href="http://mathworld.wolfram.com/Structure.html"><img src="http://mathworld.wolfram.com/favicon_mathworld.png" alt="Mathworld"></img></a><a class="nnexus_concept" href="http://planetmath.org/structure"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup> was invented in 1972 by Rudolf Bayer who called them ”<a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">symmetric</a><sup style="display: none;"><a class="nnexus_concept" href="http://planetmath.org/polyadicalgebrawithequality"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a><a class="nnexus_concept" href="http://planetmath.org/symmetricrelation"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup> binary B-trees”, but acquired its modern name in a paper in 1978 by Leo J. Guibas and Robert Sedgewick. It is complex, but has good worst-case running time for its <a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">operations</a><sup style="display: none;"><a class="nnexus_concept" href="http://mathworld.wolfram.com/Operation.html"><img src="http://mathworld.wolfram.com/favicon_mathworld.png" alt="Mathworld"></img></a><a class="nnexus_concept" href="http://planetmath.org/operation"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup> and is efficient in practice: it can search, insert, and delete in <math id="p2.m1" class="ltx_Math" alttext="O(\log n)" display="inline"><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><mo stretchy="false">)</mo></mrow></mrow></math> time, where <math id="p2.m2" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math> is the number of <a class="nnexus_concept" href="http://mathworld.wolfram.com/Element.html">elements</a> in the tree.</p>
</div>
<div id="p3" class="ltx_para">
<p class="ltx_p">A red-black tree is a special type of <a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">binary tree</a><sup style="display: none;"><a class="nnexus_concept" href="http://mathworld.wolfram.com/BinaryTree.html"><img src="http://mathworld.wolfram.com/favicon_mathworld.png" alt="Mathworld"></img></a><a class="nnexus_concept" href="http://planetmath.org/binarytree"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup>, which is a structure used in computer science to organize pieces of <a class="nnexus_concept" href="http://planetmath.org/comparisonoffilters">comparable</a> data, such as numbers. In binary trees, each piece of data is stored in a node. One of the nodes always <a class="nnexus_concept" href="http://planetmath.org/function">functions</a> as our starting place, and is not the child of any node; we call this the root node or root. It has up to two ”<a class="nnexus_concept" href="http://planetmath.org/treesettheoretic">children</a>”, other nodes to which it connects. Each of these children can have up to two children of its own, and so on. The root node thus has a path connecting it to any other node in the tree.</p>
</div>
<div id="p4" class="ltx_para">
<p class="ltx_p">If a node has no children, we call it a <a class="nnexus_concept" href="http://planetmath.org/leafnodeofatree">leaf node</a>, since intuitively it is at the periphery of the tree. A <a class="nnexus_concept" href="http://mathworld.wolfram.com/Subtree.html">subtree</a> is the portion of the tree that can be reached from a certain node, considered as a tree itself. In red-black trees, the leaves are assumed to be null; that is, they do not contain any data.</p>
</div>
<div id="p5" class="ltx_para">
<p class="ltx_p"><a class="nnexus_concept" href="http://planetmath.org/binarysearchtree">Binary search trees</a>, including red-black trees, <a class="nnexus_concept" href="http://planetmath.org/satisfactionrelation">satisfy</a> the constraint that every node contains a value less than or equal to all nodes in its right subtree, and greater than or equal to all nodes in its left subtree. This makes it quick to search the tree for a given value, and allows efficient <a class="nnexus_concept" href="http://planetmath.org/treetraversals">in-order traversal</a> of elements.</p>
</div>
<div id="p6" class="ltx_para">
<p class="ltx_p">Red-black trees, along with <a class="nnexus_concept" href="http://planetmath.org/avltree">AVL trees</a>, offer the best possible worst-case guarantees for insertion time, <a class="nnexus_concept" href="http://planetmath.org/deletionoperationonlanguages">deletion</a> time, and search time. Not only does this make them valuable in time-sensitive applications such as real-time applications, but it makes them valuable building blocks in other data structures which provide worst-case guarantees; for example, many data structures used in computational geometry can be based on red-black trees.</p>
</div>
<div id="p7" class="ltx_para">
<p class="ltx_p">Red-black trees are also particularly valuable in functional programming, where they are one of the most common persistent data structures, used to construct associative arrays and sets which can retain previous versions after mutations. The persistent version of red-black trees requires O(log n) space for each <a class="nnexus_concept" href="http://planetmath.org/insertionoperationonlanguages">insertion</a> or deletion, in <a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">addition</a><sup style="display: none;"><a class="nnexus_concept" href="http://planetmath.org/addition"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a><a class="nnexus_concept" href="http://planetmath.org/cardinalarithmetic"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup> to time.</p>
</div>
<div id="p8" class="ltx_para">
<p class="ltx_p">Red-black trees are an <a class="nnexus_concept" href="http://planetmath.org/classicalgroups">isometry</a> of 2-3-4 trees. In other words, for every 2-3-4 tree, there exists at least one red-black tree with data elements in the same order. The insertion and deletion operations on 2-3-4 trees are also <a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">equivalent</a><sup style="display: none;"><a class="nnexus_concept" href="http://mathworld.wolfram.com/Equivalent.html"><img src="http://mathworld.wolfram.com/favicon_mathworld.png" alt="Mathworld"></img></a><a class="nnexus_concept" href="http://planetmath.org/filterbasis"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a><a class="nnexus_concept" href="http://planetmath.org/equivalenceofforcingnotions"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a><a class="nnexus_concept" href="http://planetmath.org/equivalentmachines"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a><a class="nnexus_concept" href="http://planetmath.org/equivalencerelation"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup> to color-flipping and rotations in red-black trees. This makes 2-3-4 trees an important tool for understanding the logic behind red-black trees, and this is why many introductory <a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">algorithm</a><sup style="display: none;"><a class="nnexus_concept" href="http://mathworld.wolfram.com/Algorithm.html"><img src="http://mathworld.wolfram.com/favicon_mathworld.png" alt="Mathworld"></img></a><a class="nnexus_concept" href="http://planetmath.org/algorithm"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup> texts introduce 2-3-4 trees just before red-black trees, even though 2-3-4 trees are not often used in practice.</p>
</div>
<div id="p9" class="ltx_para">
<p class="ltx_p">A red-black tree is a binary search tree where each node has a color <a class="nnexus_concept" href="http://planetmath.org/conceptlattice">attribute</a>, the value of which is either red or black. In addition to the ordinary requirements imposed on binary search trees, we make the following additional requirements of any valid red-black tree:</p>
</div>
<div id="p10" class="ltx_para">
<p class="ltx_p">A node is either red or black.
The root is black.
All leaves are black. (This includes the NIL children.)
Both children of every red node are black. (So every red node must have a black parent by <a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">modus tollens</a><sup style="display: none;"><a class="nnexus_concept" href="http://mathworld.wolfram.com/ModusTollens.html"><img src="http://mathworld.wolfram.com/favicon_mathworld.png" alt="Mathworld"></img></a><a class="nnexus_concept" href="http://planetmath.org/modustollens"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup>.)
Every <a class="nnexus_concept" href="http://planetmath.org/simplepath">simple path</a> from a node to a <a class="nnexus_concept" href="http://planetmath.org/descendingseries">descendant</a> leaf contains the same number of black nodes.
These constraints enforce a critical property of red-black trees: that the longest possible path from the root to a leaf is no more than twice as long as the shortest possible path. The result is that the tree is roughly balanced. Since operations such as inserting, deleting, and finding values requires worst-case time proportional to the height of the tree, this theoretical <a class="nnexus_concept" href="http://planetmath.org/upperbound">upper bound</a> on the height allows red-black trees to be efficient in the worst-case, unlike ordinary binary search trees.
</p>
</div>
<div id="p11" class="ltx_para">
<p class="ltx_p">To see why these properties guarantee this, it suffices to note that no path can have two red nodes in a row, since both children of every red node are black and a black node is the only possible parent for a red node. The shortest possible path has all black nodes, and the longest possible path alternates between red and black nodes. Since all <a class="nnexus_concept" href="http://planetmath.org/maximalsubgroup">maximal</a> paths have the same number of black nodes, because every simple path from a node to a descendant leaf contains the same number of black nodes, this shows that no path is more than twice as long as any other path.</p>
</div>
<div id="p12" class="ltx_para">
<p class="ltx_p">In many <a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">presentations</a><sup style="display: none;"><a class="nnexus_concept" href="http://mathworld.wolfram.com/Presentation.html"><img src="http://mathworld.wolfram.com/favicon_mathworld.png" alt="Mathworld"></img></a><a class="nnexus_concept" href="http://planetmath.org/presentationofinversemonoidsandinversesemigroups"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a><a class="nnexus_concept" href="http://planetmath.org/presentationofagroup"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup> of tree data structures, it is possible for a node to have only one child, and leaf nodes contain data. It is possible to present red-black trees in this paradigm, but it changes several of the properties and complicates the algorithms. For this reason, in this article we use ”nil leaves” or ”null leaves”, which contain no data and merely serve to indicate where the tree ends, as shown above. These nodes are often omitted in drawings, resulting in a tree which seems to contradict the above principles, but which in fact does not. A <a class="nnexus_concept" href="http://planetmath.org/logicalimplication">consequence</a> of this is that all internal (non-leaf) nodes have two children, although one or more of those children may be a null leaf.</p>
</div>
<div id="p13" class="ltx_para">
<p class="ltx_p">Some explain a red-black tree as a binary search tree whose edges, instead of nodes, are colored in red or black, but this does not make any <a class="nnexus_concepts" href="javascript:void(0)" onclick="this.nextSibling.style.display='inline'">difference</a><sup style="display: none;"><a class="nnexus_concept" href="http://planetmath.org/difference"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a><a class="nnexus_concept" href="http://planetmath.org/setdifference"><img src="http://planetmath.org/sites/default/files/fab-favicon.ico" alt="Planetmath"></img></a></sup>. The color of a node in our terminology corresponds to the color of the edge connecting the node to its parent, except that the root node is always black in our terminology (property 2) whereas the corresponding edge does not exist.</p>
</div>
<div id="p14" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This entry was adapted from the Wikipedia article </span><span class="ltx_text ltx_font_typewriter">http://en.wikipedia.org/wiki/Red-black_tree</span><span class="ltx_text ltx_font_italic">Red-black tree as of December 19, 2006.</span>
</p>
<table class="ltx_tabular ltx_align_right ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_t">Title</th>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t">red-black tree</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l">Canonical name</th>
<td class="ltx_td ltx_align_left ltx_border_r">RedblackTree</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l">Date of creation</th>
<td class="ltx_td ltx_align_left ltx_border_r">2013-03-22 16:28:32</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l">Last modified on</th>
<td class="ltx_td ltx_align_left ltx_border_r">2013-03-22 16:28:32</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l">Owner</th>
<td class="ltx_td ltx_align_left ltx_border_r">PrimeFan (13766)</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l">Last modified by</th>
<td class="ltx_td ltx_align_left ltx_border_r">PrimeFan (13766)</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l">Numerical id</th>
<td class="ltx_td ltx_align_left ltx_border_r">7</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l">Author</th>
<td class="ltx_td ltx_align_left ltx_border_r">PrimeFan (13766)</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l">Entry type</th>
<td class="ltx_td ltx_align_left ltx_border_r">Definition</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l"><a class="nnexus_concept" href="http://mathworld.wolfram.com/Classification.html">Classification</a></th>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r">msc 68P10</td>
</tr>
</tbody>
</table>
</div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Sat Feb 10 12:38:28 2018 by <a href="http://dlmf.nist.gov/LaTeXML/">LaTeXML <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"></a>
</div></footer>
</div>
</body>
</html>
